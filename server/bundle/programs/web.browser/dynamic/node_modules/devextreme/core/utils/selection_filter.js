function module(r,n){"use strict";var t=r("./common").getKeyHash,i=r("./common").equalByValue,e=r("./type"),u=function(r,n){var u;this.getLocalFilter=function(r,n,t,e){return n=void 0===n?i:n,f.bind(this,n,r,t,e)},this.getExpr=function(t){var i;if(t)return r.forEach((function(r,u){var o;i=i||[],u>0&&i.push(n?"and":"or"),o=e.isString(t)?c(t,r):h(t,r),i.push(o)})),i&&1===i.length&&(i=i[0]),i},this.getCombinedFilter=function(r,t){var i=this.getExpr(r),e=i;return n&&t&&(i?((e=[]).push(i),e.push(t)):e=t),e};var o=function(r){if(!u){u={};for(var n=0;n<r.length;n++)u[t(r[n])]=!0}return u},a=function(r,n,t){return Array.isArray(t)?r.map((function(r){return n(r)})):r},f=function(i,u,f,c,h){var s,l,v=u(h),g;if(!f&&(s=t(v),!e.isObject(s)))return o(a(r,u,c))[s]?!n:!!n;for(l=0;l<r.length;l++)if(i(r[l],v))return!n;return!!n},c=function(r,t){if(void 0!==t)return[r,n?"<>":"=",t]},h=function(r,t){for(var i=[],e=0,u=r.length;e<u;e++){var o=r[e],a=t&&t[o],f=c(o,a);if(!f)break;e>0&&i.push(n?"or":"and"),i.push(f)}return i}};n.SelectionFilterCreator=u}

