function module(i,t,e){"use strict";var r=function(i){this._options=i||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};r.prototype._fireCore=function(i,t){var e=this._firingIndexes,r=this._list,s=this._options.stopOnFalse,n=e.length;for(e[n]=0;e[n]<r.length;e[n]++){var o;if(!1===r[e[n]].apply(i,t)&&s)break}e.pop()},r.prototype.add=function(i){return"function"!=typeof i||this._options.unique&&this.has(i)||this._list.push(i),this},r.prototype.remove=function(i){var t=this._list,e=this._firingIndexes,r=t.indexOf(i);if(r>-1&&(t.splice(r,1),this._firing&&e.length))for(var s=0;s<e.length;s++)r<=e[s]&&e[s]--;return this},r.prototype.has=function(i){var t=this._list;return i?t.indexOf(i)>-1:!!t.length},r.prototype.empty=function(i){return this._list=[],this},r.prototype.fireWith=function(i,t){var e=this._queue;if(t=(t=t||[]).slice?t.slice():t,this._options.syncStrategy)this._firing=!0,this._fireCore(i,t);else{if(e.push([i,t]),this._firing)return;for(this._firing=!0;e.length;){var r=e.shift();this._fireCore(r[0],r[1])}}return this._firing=!1,this._fired=!0,this},r.prototype.fire=function(){this.fireWith(this,arguments)},r.prototype.fired=function(){return this._fired};var s=function(i){return new r(i)};e.exports=s}

