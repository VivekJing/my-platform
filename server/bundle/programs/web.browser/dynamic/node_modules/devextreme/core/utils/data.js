function module(r,n){"use strict";var e=r("../errors"),t=r("../class"),i=r("./object"),a=r("./type"),u=r("./iterator").each,s=r("./variable_wrapper"),o=s.unwrap,f=s.isWrapped,c=s.assign,l=function(r){return r.replace(/\[/g,".").replace(/\]/g,"")},v=function(r,n,e){return e=e||{},h("this"===n?r:r[n],e)},p=function(r,n,t,i){if("this"===n)throw new e.Error("E4016");var a=r[n];i.unwrapObservables&&f(a)?c(a,t):r[n]=t},b=function(r){return(r=r||{}).unwrapObservables=void 0===r.unwrapObservables||r.unwrapObservables,r},h=function(r,n){return n.unwrapObservables?o(r):r},d=function(r){if(arguments.length>1&&(r=[].slice.call(arguments)),!r||"this"===r)return function(r){return r};if("string"==typeof r){var n=(r=l(r)).split(".");return function(r,e){for(var t=(e=b(e)).functionsAsIs,i=("defaultValue"in e),u=h(r,e),s=0;s<n.length;s++){if(!u){if(null==u&&i)return e.defaultValue;break}var o=n[s];if(i&&a.isObject(u)&&!(o in u))return e.defaultValue;var f=h(u[o],e);!t&&a.isFunction(f)&&(f=f.call(u)),u=f}return u}}return Array.isArray(r)?g(r):a.isFunction(r)?r:void 0},g=function(r){for(var n={},e=0,t=r.length;e<t;e++){var i=r[e];n[i]=d(i)}return function(r,e){var t;return u(n,(function(n){var i,a,u,s,o,f=this(r,e);if(void 0!==f){for(i=t||(t={}),s=(a=n.split(".")).length-1,o=0;o<s;o++)(u=a[o])in i||(i[u]={}),i=i[u];i[a[s]]=f}})),t}},w=function(r,n,e,t){if(a.isDefined(e))return e;var i={};return p(r,n,i,t),i},O=function(r){var n=(r=l(r||"this").split(".")).length-1;return function(e,t,u){u=b(u);var s=h(e,u);r.forEach((function(r,e){var o=v(s,r,u),c=!u.functionsAsIs&&a.isFunction(o)&&!f(o);e===n?u.merge&&a.isPlainObject(t)&&(!a.isDefined(o)||a.isPlainObject(o))?(o=w(s,r,o,u),i.deepExtendArraySafe(o,t,!1,!0)):c?s[r](t):p(s,r,t,u):(o=w(s,r,o,u),c&&(o=o.call(s)),s=o)}))}},m=function(r,n){return r instanceof Date?r.getTime():r&&r instanceof t&&r.valueOf?r.valueOf():n||"string"!=typeof r?r:r.toLowerCase()};n.compileGetter=d,n.compileSetter=O,n.toComparable=m}

