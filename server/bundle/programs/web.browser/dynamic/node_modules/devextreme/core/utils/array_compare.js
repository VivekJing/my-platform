function module(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findChanges=void 0;var r=e("./type"),n=function(e,t){var n=t(e);if((0,r.isObject)(n))try{return JSON.stringify(n)}catch(a){return n}return n},a=function(e,t,r,a){var i;return t[r[n(e,a)]]},i=t.findChanges=function(e,t,r,i){var u={},f={},o=0,d=0,c=[];e.forEach((function(e,t){var a=n(e,r);u[a]=t})),t.forEach((function(e,t){var a=n(e,r);f[a]=t}));for(var s=Math.max(e.length,t.length),v=0;v<s+o;v++){var h=t[v],l=v-o+d,p=e[l],y;if(!h||p&&!a(p,t,f,r))p&&(c.push({type:"remove",key:r(p),index:v,oldItem:p}),d++,v--);else{var g=n(h,r),m=u[g],x=e[m];if(x){if(m!==l)return;i(x,h)||c.push({type:"update",data:h,key:r(h),index:v,oldItem:x})}else o++,c.push({type:"insert",data:h,index:v})}}return c}}

