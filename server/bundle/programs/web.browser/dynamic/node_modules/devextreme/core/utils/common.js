function module(r,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t,i=l(r("../config")),o,u=l(r("../guid")),a=r("../utils/deferred"),f=r("./iterator"),c=r("./data"),s=r("./type");function l(r){return r&&r.__esModule?r:{default:r}}var p=function(r,e){return(0,s.isDefined)(r)?r:e},d=function(r,e){var n=new a.Deferred,t=e||this,i=void 0,o={promise:n.promise(),abort:function(){clearTimeout(i),n.rejectWith(t)}},u=function(){var e=r.call(t);e&&e.done&&(0,s.isFunction)(e.done)?e.done((function(){n.resolveWith(t)})):n.resolveWith(t)};return i=(arguments[2]||setTimeout)(u,"number"==typeof e?e:0),o},h=[],y=[],v=[],m=void 0,g=function(r,e,n){if(m&&m!==r)return h.push(e),y.push(r),n=n||new a.Deferred,v.push(n),n;var t=m,i=v.length;m=r;var o=e();return o||(v.length>i?o=a.when.apply(this,v.slice(i)):n&&n.resolve()),m=t,n&&o&&o.done&&o.done(n.resolve).fail(n.reject),!m&&h.length&&("render"===y.shift()?b:S)(h.shift(),v.shift()),o||(0,a.when)()},b=function(r,e){return g("render",r,e)},S=function(r,e){return g("update",r,e)},A=function(r){return function(){var e=this;return g("render",(function(){return r.call(e)}))}},_=function(r){return function(){var e=this;return g("update",(function(){return r.call(e)}))}},D=function(r,e,n){var t=[],i=0;return(0,f.each)(e,(function(e,o){var u=0,a=n?n(o):o;(0,f.each)(r,(function(r,e){var n=a[r];if(void 0!==n){if(!j(n,e))return u=-1,!1;u++}})),u<i||(u>i&&(t.length=0,i=u),t.push(o))})),t},j=function(r,e){if(Array.isArray(r)&&Array.isArray(e)){var n=!1;return(0,f.each)(r,(function(r,t){if(t!==e[r])return n=!0,!1})),!n}return r===e},w=function(r){switch(void 0===r?"undefined":n(r)){case"string":return r.split(/\s+/,2);case"object":return[r.x||r.h,r.y||r.v];case"number":return[r];default:return r}},O=function(r){var e=(0,s.isString)(r)?r:r.toString(),n=e.match(/[^a-zA-Z0-9_]/g);return n&&(0,f.each)(n,(function(r,n){e=e.replace(n,"__"+n.charCodeAt()+"__")})),e},C=function(r){var e=r.match(/__\d+__/g);return e&&e.forEach((function(e){var n=parseInt(e.replace("__",""));r=r.replace(e,String.fromCharCode(n))})),r},F=function(r,e,n){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(!K(r[t],e[t],n+1))return!1;return!0},x=function(r,e,n){for(var t in r)if(r.hasOwnProperty(t)&&!K(r[t],e[t],n+1))return!1;for(var i in e)if(!(i in r))return!1;return!0},z=function(r,e){var n=w(r),t=e?parseFloat(n&&n[0]):parseInt(n&&n[0],10),i=e?parseFloat(n&&n[1]):parseInt(n&&n[1],10);return isFinite(t)||(t=0),isFinite(i)||(i=t),{h:t,v:i}},I=3,K=function(r,e,n){return n=n||0,(r=(0,c.toComparable)(r,!0))===(e=(0,c.toComparable)(e,!0))||n>=3||((0,s.isObject)(r)&&(0,s.isObject)(e)?x(r,e,n):!(!Array.isArray(r)||!Array.isArray(e))&&F(r,e,n))},R=function(r){if(r instanceof u.default)return r.toString();if((0,s.isObject)(r)||Array.isArray(r))try{var e=JSON.stringify(r);return"{}"===e?r:e}catch(n){return r}return r},T=function(r){return r.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},W=function(r){var e=(0,i.default)().serverDecimalSeparator;return(0,s.isDefined)(r)&&(r=r.toString().replace(".",e)),r},B=function(){},E=function(){return(new a.Deferred).resolve().promise()},M=function(r,e,n){for(var t=[],i=void 0,o=!n,u=0;u<r.length;u++)(i=!!e(r[u],u))===o&&t.push(r[u]);return t};e.ensureDefined=p,e.executeAsync=d,e.deferRender=b,e.deferRenderer=A,e.deferUpdate=S,e.deferUpdater=_,e.pairToObject=z,e.splitPair=w,e.findBestMatches=D,e.normalizeKey=O,e.denormalizeKey=C,e.equalByValue=K,e.getKeyHash=R,e.escapeRegExp=T,e.applyServerDecimalSeparator=W,e.noop=B,e.asyncNoop=E,e.grep=M}

