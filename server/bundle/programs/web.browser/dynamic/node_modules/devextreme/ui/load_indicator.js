function module(i,n,t){"use strict";var e=i("../core/renderer"),a,r=i("../core/utils/window").getNavigator(),o=i("../core/utils/support"),d=i("./themes"),s=i("../core/utils/extend").extend,c=i("../core/devices"),p=i("../core/component_registrator"),u=i("./widget/ui.widget"),m="dx-loadindicator",h="dx-loadindicator-wrapper",l="dx-loadindicator-content",_="dx-loadindicator-icon",g="dx-loadindicator-segment",v="dx-loadindicator-segment-inner",f="dx-loadindicator-image",x=u.inherit({_getDefaultOptions:function(){return s(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var i=d.current();return this.callBase().concat([{device:function(){var i,n;return"android"===c.real().platform&&!/chrome/i.test(r.userAgent)},options:{viaImage:!0}},{device:function(){return d.isWin8(i)||d.isWin10(i)},options:{_animatingSegmentCount:5}},{device:function(){return d.isIos7(i)},options:{_animatingSegmentCount:11}},{device:function(){return d.isMaterial(i)||d.isAndroid5(i)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return d.isGeneric(i)},options:{_animatingSegmentCount:7}}])},_init:function(){this.callBase(),this.$element().addClass("dx-loadindicator")},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=e("<div>").addClass("dx-loadindicator-wrapper"),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=e("<div>").addClass("dx-loadindicator-content"),this._$wrapper.append(this._$content)},_renderMarkup:function(){!o.animation()||this.option("viaImage")||this.option("indicatorSrc")?this._renderMarkupForImage():this._renderMarkupForAnimation()},_renderMarkupForAnimation:function(){var i=this.option("_animatingSegmentInner");this._$indicator=e("<div>").addClass("dx-loadindicator-icon"),this._$content.append(this._$indicator);for(var n=this.option("_animatingSegmentCount");n>=0;--n){var t=e("<div>").addClass("dx-loadindicator-segment").addClass("dx-loadindicator-segment"+n);i&&t.append(e("<div>").addClass("dx-loadindicator-segment-inner")),this._$indicator.append(t)}},_renderMarkupForImage:function(){var i=this.option("indicatorSrc");this._$wrapper.addClass("dx-loadindicator-image"),i&&this._$wrapper.css("backgroundImage","url("+i+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var i=this.option("width"),n=this.option("height");if(i||n){i=this.$element().width(),n=this.$element().height();var t=Math.min(n,i);this._$wrapper.css({height:t,width:t,fontSize:t})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(i){switch(i.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(i)}}});p("dxLoadIndicator",x),t.exports=x,t.exports.default=t.exports}

