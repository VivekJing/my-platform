function module(t,e){"use strict";var r=t("../../core/utils/math").fitIntoRange,n=t("../../core/utils/common").escapeRegExp,a=t("../../localization/number"),i=function(t,e){var r=e.split(";"),n=a.getSign(t,e),i;r[1]=r[1]||"-"+r[0],e=function(t){return t.replace(/'([^']*)'/g,(function(t){return t.split("").map((function(){return" "})).join("").substr(2)}))}(e=r[n<0?1:0]);var u=/^[^#0.,]*/.exec(e)[0].length,s=/[^#0.,]*$/.exec(e)[0].length;return{start:u,end:t.length-s}},u=function(t,e){var r=a.getDecimalSeparator(),i=new RegExp("[^0-9"+n(r)+"]","g"),u;return e.slice(0,t).replace(i,"").length},s=function(t){return t.split("").reverse().join("")},o=function(t,e){if(!t)return-1;for(var r=/[0-9]/g,n=1,a=null,i=r.exec(e);i;){if(a=i.index,!t||n>=t)return a;n++,i=r.exec(e)}return null===a?e.length:a},c=function(t,e){return void 0===t.start&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}},l=function(t,e,r,n){r=c(r,0);var i=a.getDecimalSeparator(),l=f(t),g=l?0:t.indexOf(i),p=e.indexOf(i),v=l?t.split(t[g]):t.split(i),h=e.split(i),m;if(-1!==g&&r.start>g){var x=r.start-g-1,C=u(x,v[1]),O=h[1]?p+1+o(C,h[1])+1:e.length;return d(O,e,n)}var B=v[0].length-r.start,I=u(B,s(v[0])),R=o(I,s(h[0])),S=h[0].length-(R+1);return d(S,e,n)},f=function(t){return 1===t.length&&!!t.match(/^[,.][0-9]*$/g)},g=function(t,e,r){t=c(t,0);var n=d(t,e,r);return t.start>=n.start&&t.end<=n.end},d=function(t,e,n){t=c(t,0);var a=i(e,n),u;return{start:r(t.start,a.start,a.end),end:r(t.end,a.start,a.end)}},p=function(t,e,r){var n=i(t,r),a;return i(e,r).start-n.start};e.getCaretBoundaries=i,e.isCaretInBoundaries=g,e.getCaretWithOffset=c,e.getCaretInBoundaries=d,e.getCaretAfterFormat=l,e.getCaretOffset=p}

