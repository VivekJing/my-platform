function module(e,t,i){"use strict";var l=e("../../core/renderer"),n=e("../../events/core/events_engine"),s=e("../../core/utils/common").noop,o=e("./ui.list.edit.decorator"),a=o.abstract,d=e("../../events/utils"),h=e("../../events/pointer"),c=e("../../events/core/emitter.feedback"),_="dxListEditDecorator",r=d.addNamespace(h.down,_),g=d.addNamespace(c.active,_),m="dx-list-item-content",u="dx-list-switchable-delete-ready",f="dx-list-switchable-menu-shield-positioning",p="dx-list-switchable-delete-top-shield",b="dx-list-switchable-delete-bottom-shield",D="dx-list-switchable-menu-item-shield-positioning",S="dx-list-switchable-delete-item-content-shield",y="dx-list-switchable-delete-button-container",$=o.inherit({_init:function(){this._$topShield=l("<div>").addClass(p),this._$bottomShield=l("<div>").addClass(b),this._$itemContentShield=l("<div>").addClass(S),n.on(this._$topShield,r,this._cancelDeleteReadyItem.bind(this)),n.on(this._$bottomShield,r,this._cancelDeleteReadyItem.bind(this)),this._list.$element().append(this._$topShield.toggle(!1)).append(this._$bottomShield.toggle(!1))},handleClick:function(){return this._cancelDeleteReadyItem()},_cancelDeleteReadyItem:function(){return!!this._$readyToDeleteItem&&(this._cancelDelete(this._$readyToDeleteItem),!0)},_cancelDelete:function(e){this._toggleDeleteReady(e,!1)},_toggleDeleteReady:function(e,t){void 0===t&&(t=!this._isReadyToDelete(e)),this._toggleShields(e,t),this._toggleScrolling(t),this._cacheReadyToDeleteItem(e,t),this._animateToggleDelete(e,t)},_isReadyToDelete:function(e){return e.hasClass(u)},_toggleShields:function(e,t){this._list.$element().toggleClass(f,t),this._$topShield.toggle(t),this._$bottomShield.toggle(t),t&&this._updateShieldsHeight(e),this._toggleContentShield(e,t)},_updateShieldsHeight:function(e){var t=this._list.$element(),i=t.offset().top,l=t.outerHeight(),n,s,o=e.offset().top-i,a=l-e.outerHeight()-o;this._$topShield.height(Math.max(o,0)),this._$bottomShield.height(Math.max(a,0))},_toggleContentShield:function(e,t){t?e.find(".dx-list-item-content").first().append(this._$itemContentShield):this._$itemContentShield.detach()},_toggleScrolling:function(e){var t=this._list.$element().dxScrollView("instance");e?t.on("start",this._cancelScrolling):t.off("start",this._cancelScrolling)},_cancelScrolling:function(e){e.event.cancel=!0},_cacheReadyToDeleteItem:function(e,t){t?this._$readyToDeleteItem=e:delete this._$readyToDeleteItem},_animateToggleDelete:function(e,t){t?(this._enablePositioning(e),this._prepareDeleteReady(e),this._animatePrepareDeleteReady(e),n.off(e,h.up)):(this._forgetDeleteReady(e),this._animateForgetDeleteReady(e).done(this._disablePositioning.bind(this,e)))},_enablePositioning:function(e){e.addClass(D),n.on(e,g,s),n.one(e,h.up,this._disablePositioning.bind(this,e))},_disablePositioning:function(e){e.removeClass(D),n.off(e,g)},_prepareDeleteReady:function(e){e.addClass(u)},_forgetDeleteReady:function(e){e.removeClass(u)},_animatePrepareDeleteReady:a,_animateForgetDeleteReady:a,_getDeleteButtonContainer:function(e){return(e=e||this._$readyToDeleteItem).children("."+y)},_deleteItem:function(e){e=e||this._$readyToDeleteItem,this._getDeleteButtonContainer(e).detach(),e.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(e).always(this._cancelDelete.bind(this,e))},_isRtlEnabled:function(){return this._list.option("rtlEnabled")},dispose:function(){this._$topShield&&this._$topShield.remove(),this._$bottomShield&&this._$bottomShield.remove(),this.callBase.apply(this,arguments)}});i.exports=$}

