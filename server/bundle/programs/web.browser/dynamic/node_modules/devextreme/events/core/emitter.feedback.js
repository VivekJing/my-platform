function module(t,i){"use strict";var e=t("../../core/class"),n=t("../../core/utils/common"),c=t("../../core/utils/dom").contains,s=t("../../core/devices"),o=t("../utils"),a=t("../pointer"),r=t("./emitter"),v=t("./emitter_registrator"),h="dxactive",u="dxinactive",f=30,_=400,l=e.inherit({ctor:function(t,i){this._timeout=t,this._fire=i},start:function(){var t=this;this._schedule((function(){t.force()}))},_schedule:function(t){this.stop(),this._timer=setTimeout(t,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),d,m=r.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new l(0,n.noop),this._inactive=new l(0,n.noop)},configure:function(t,i){switch(i){case"dxactive":t.activeTimeout=t.timeout;break;case"dxinactive":t.inactiveTimeout=t.timeout}this.callBase(t)},start:function(t){if(d){var i=c(this.getElement().get(0),d.getElement().get(0)),e=!d._active.fired();if(i&&e)return void this._cancel();d._inactive.force()}d=this,this._initEvents(t),this._active.start()},_initEvents:function(t){var i=this,e=this._getEmitterTarget(t),c=o.isMouseEvent(t),a,r=s.isSimulator()||!c,v=n.ensureDefined(this.activeTimeout,30),h=n.ensureDefined(this.inactiveTimeout,400);this._active=new l(r?v:0,(function(){i._fireEvent("dxactive",t,{target:e})})),this._inactive=new l(r?h:0,(function(){i._fireEvent("dxinactive",t,{target:e}),d=null}))},cancel:function(t){this.end(t)},end:function(t){var i=t.type!==a.up;i?this._active.stop():this._active.force(),this._inactive.start(),i&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),d=null,this._cancel(),this._inactive.force.bind(this._inactive)}});m.lock=function(t){var i=d?d.lockInactive():n.noop;t.done(i)},v({emitter:m,events:["dxactive","dxinactive"]}),i.lock=m.lock,i.active="dxactive",i.inactive="dxinactive"}

