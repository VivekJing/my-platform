function module(t,r,o){"use strict";var s=t("./errors"),n=t("./utils/type"),i=function(t,r,o){return function(){var s=this.callBase;this.callBase=t[r];try{return o.apply(this,arguments)}finally{this.callBase=s}}},e=function(t){var r=function(){};return r.prototype=t.prototype,new r},c=function(t){var r,o,s,n=this;if(!t)return this;for(o in t)s=t[o],r="function"==typeof this.prototype[o]&&"function"==typeof s,this.prototype[o]=r?i(this.parent.prototype,o,s):s;return this},u=function(){var t,r,o,s=this,n=!s.hasOwnProperty("_includedCtors")&&!s.hasOwnProperty("_includedPostCtors");for(n&&(s._includedCtors=s._includedCtors.slice(0),s._includedPostCtors=s._includedPostCtors.slice(0)),o=0;o<arguments.length;o++)for(r in(t=arguments[o]).ctor&&s._includedCtors.push(t.ctor),t.postCtor&&s._includedPostCtors.push(t.postCtor),t)"ctor"!==r&&"postCtor"!==r&&(s.prototype[r]=t[r]);return s},l=function(t){return this.parent===t||!(!this.parent||!this.parent.subclassOf)&&this.parent.subclassOf(t)},p=function(){throw s.Error("E0001")},h=(d=Object.prototype.hasOwnProperty,function(t,r){for(var o in t){if(!d.call(t,o))return;r[o]=t[o]}}),d,a=function(){};a.inherit=function(t){var r=function(){if(!this||n.isWindow(this)||"function"!=typeof this.constructor)throw s.Error("E0003");var t,r=this,o=r.ctor,i=r.constructor._includedCtors,e=r.constructor._includedPostCtors;for(t=0;t<i.length;t++)i[t].call(r);for(o&&o.apply(r,arguments),t=0;t<e.length;t++)e[t].call(r)};return r.prototype=e(this),h(this,r),r.inherit=this.inherit,r.abstract=p,r.redefine=c,r.include=u,r.subclassOf=l,r.parent=this,r._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],r._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],r.prototype.constructor=r,r.redefine(t),r},a.abstract=p,o.exports=a}

