function module(t,e,i){"use strict";var r=t("./element_data"),n=t("./dom_adapter"),s,o=t("./utils/window").getWindow(),h=t("./utils/type"),p=t("./utils/style"),l=t("./utils/size"),f=t("./utils/html_parser"),u=function(t,e){return new a(t,e)},a=function(t,e){return t?"string"==typeof t?"body"===t?(this[0]=e?e.body:n.getBody(),this.length=1,this):(e=e||n.getDocument(),"<"===t[0]?(this[0]=n.createElement(t.slice(1,-1),e),this.length=1,this):([].push.apply(this,n.querySelectorAll(e,t)),this)):n.isNode(t)||h.isWindow(t)?(this[0]=t,this.length=1,this):Array.isArray(t)?([].push.apply(this,t),this):u(t.toArray?t.toArray():[t]):(this.length=0,this)};u.fn={dxRenderer:!0},a.prototype=u.fn;var c=function(t,e){for(var i=0;i<this.length;i++){var r=u(this[i]);r[t].apply(r,e)}return this},d=function(t,e,i){null!=i?n.setAttribute(t,e,i):n.removeAttribute(t,e)};a.prototype.show=function(){return this.toggle(!0)},a.prototype.hide=function(){return this.toggle(!1)},a.prototype.toggle=function(t){return this[0]&&this.toggleClass("dx-state-invisible",!t),this},a.prototype.attr=function(t,e){if(this.length>1&&arguments.length>1)return c.call(this,"attr",arguments);if(!this[0])return h.isObject(t)||void 0!==e?this:void 0;if(!this[0].getAttribute)return this.prop(t,e);if("string"==typeof t&&1===arguments.length){var i=this[0].getAttribute(t);return null==i?void 0:i}if(h.isPlainObject(t))for(var r in t)this.attr(r,t[r]);else d(this[0],t,e);return this},a.prototype.removeAttr=function(t){return this[0]&&n.removeAttribute(this[0],t),this},a.prototype.prop=function(t,e){if(!this[0])return this;if("string"==typeof t&&1===arguments.length)return this[0][t];if(h.isPlainObject(t))for(var i in t)this.prop(i,t[i]);else n.setProperty(this[0],t,e);return this},a.prototype.addClass=function(t){return this.toggleClass(t,!0)},a.prototype.removeClass=function(t){return this.toggleClass(t,!1)},a.prototype.hasClass=function(t){if(!this[0]||void 0===this[0].className)return!1;for(var e=t.split(" "),i=0;i<e.length;i++){var r;if(this[0].classList){if(this[0].classList.contains(e[i]))return!0}else if(((h.isString(this[0].className)?this[0].className:n.getAttribute(this[0],"class"))||"").split(" ").indexOf(e[i])>=0)return!0}return!1},a.prototype.toggleClass=function(t,e){if(this.length>1)return c.call(this,"toggleClass",arguments);if(!this[0]||!t)return this;e=void 0===e?!this.hasClass(t):e;for(var i=t.split(" "),r=0;r<i.length;r++)n.setClass(this[0],i[r],e);return this},["width","height","outerWidth","outerHeight","innerWidth","innerHeight"].forEach((function(t){var e=t.toLowerCase().indexOf("width")>=0?"Width":"Height",i=e.toLowerCase(),r=0===t.indexOf("outer"),s=0===t.indexOf("inner");a.prototype[t]=function(p){if(this.length>1&&arguments.length>0)return c.call(this,t,arguments);var f=this[0];if(f){if(h.isWindow(f))return r?f["inner"+e]:n.getDocumentElement()["client"+e];if(n.isDocument(f)){var u=n.getDocumentElement(),a=n.getBody();return Math.max(a["scroll"+e],a["offset"+e],u["scroll"+e],u["offset"+e],u["client"+e])}if(0===arguments.length||"boolean"==typeof p){var d={paddings:s||r,borders:r,margins:p};return l.getSize(f,i,d)}if(null==p)return this;if(h.isNumeric(p)){var g=o.getComputedStyle(f),y=l.getElementBoxParams(i,g),v="border-box"===g.boxSizing;p=Number(p),r?p-=v?0:y.border+y.padding:s?p+=v?y.border:-y.padding:v&&(p+=y.border+y.padding)}return p+=h.isNumeric(p)?"px":"",n.setStyle(f,i,p),this}}})),a.prototype.html=function(t){return arguments.length?(this.empty(),"string"==typeof t&&!f.isTablePart(t)||"number"==typeof t?(this[0].innerHTML=t,this):this.append(f.parseHTML(t))):this[0].innerHTML};var g=function(t,e){if(this[0]&&t){"string"==typeof t?t=f.parseHTML(t):t.nodeType?t=[t]:h.isNumeric(t)&&(t=[n.createTextNode(t)]);for(var i=0;i<t.length;i++){var r=t[i],s=this[0],o;"TABLE"===s.tagName&&"TR"===r.tagName&&s.tBodies&&s.tBodies.length&&(s=s.tBodies[0]),n.insertElement(s,r.nodeType?r:r[0],e)}}},y=function(t,e){if(this[0]&&this[0].style&&!(null===e||"number"==typeof e&&isNaN(e))){t=p.styleProp(t);for(var i=0;i<this.length;i++)this[i].style[t]=p.normalizeStyleProp(t,e)}};a.prototype.css=function(t,e){if(h.isString(t)){if(2!==arguments.length){if(!this[0])return;t=p.styleProp(t);var i=o.getComputedStyle(this[0])[t]||this[0].style[t];return h.isNumeric(i)?i.toString():i}y.call(this,t,e)}else if(h.isPlainObject(t))for(var r in t)y.call(this,r,t[r]);return this},a.prototype.prepend=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return g.apply(this,[t,this[0].firstChild]),this},a.prototype.append=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return g.apply(this,[t]),this},a.prototype.prependTo=function(t){return(t=u(t))[0]&&n.insertElement(t[0],this[0],t[0].firstChild),this},a.prototype.appendTo=function(t){return this.length>1?c.call(this,"appendTo",arguments):(n.insertElement(u(t)[0],this[0]),this)},a.prototype.insertBefore=function(t){return t&&t[0]&&n.insertElement(t[0].parentNode,this[0],t[0]),this},a.prototype.insertAfter=function(t){return t&&t[0]&&n.insertElement(t[0].parentNode,this[0],t[0].nextSibling),this},a.prototype.before=function(t){return this[0]&&n.insertElement(this[0].parentNode,t[0],this[0]),this},a.prototype.after=function(t){return this[0]&&n.insertElement(this[0].parentNode,t[0],this[0].nextSibling),this},a.prototype.wrap=function(t){if(this[0]){var e=u(t);e.insertBefore(this),e.append(this)}return this},a.prototype.wrapInner=function(t){var e=this.contents();return e.length?e.wrap(t):this.append(t),this},a.prototype.replaceWith=function(t){if(t&&t[0])return t.insertBefore(this),this.remove(),t},a.prototype.remove=function(){return this.length>1?c.call(this,"remove",arguments):(r.cleanDataRecursive(this[0],!0),n.removeElement(this[0]),this)},a.prototype.detach=function(){return this.length>1?c.call(this,"detach",arguments):(n.removeElement(this[0]),this)},a.prototype.empty=function(){return this.length>1?c.call(this,"empty",arguments):(r.cleanDataRecursive(this[0]),n.setText(this[0],""),this)},a.prototype.clone=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e].cloneNode(!0));return u(t)},a.prototype.text=function(t){if(!arguments.length){for(var e="",i=0;i<this.length;i++)e+=this[i]&&this[i].textContent||"";return e}var s=h.isFunction(t)?t():t;return r.cleanDataRecursive(this[0],!1),n.setText(this[0],h.isDefined(s)?s:""),this},a.prototype.val=function(t){return 1===arguments.length?this.prop("value",h.isDefined(t)?t:""):this.prop("value")},a.prototype.contents=function(){if(!this[0])return u();var t=[];return t.push.apply(t,this[0].childNodes),u(t)},a.prototype.find=function(t){var e=u();if(!t)return e;var i,r=[];if("string"==typeof t)for(t=t.trim(),i=0;i<this.length;i++){var s=this[i];if(n.isElementNode(s)){var o=s.getAttribute("id"),h=o||"dx-query-children";o||d(s,"id",h);var p=(h="[id='"+h+"'] ")+t.replace(/([^\\])(,)/g,"$1, "+h);r.push.apply(r,n.querySelectorAll(s,p)),d(s,"id",o)}else n.isDocument(s)&&r.push.apply(r,n.querySelectorAll(s,t))}else for(i=0;i<this.length;i++)t=n.isNode(t)?t:t[0],this[i]!==t&&this[i].contains(t)&&r.push(t);return e.add(r)};var v=function(t,e){return!e.nodeType||!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};a.prototype.filter=function(t){if(!t)return u();if(":visible"===t)return this.filter(v);if(":hidden"===t)return this.filter((function(t,e){return!v(t,e)}));for(var e=[],i=0;i<this.length;i++){var r=this[i];if(n.isElementNode(r)&&"string"===h.type(t))n.elementMatches(r,t)&&e.push(r);else if(n.isNode(t)||h.isWindow(t))t===r&&e.push(r);else if(h.isFunction(t))t.call(r,i,r)&&e.push(r);else for(var s=0;s<t.length;s++)t[s]===r&&e.push(r)}return u(e)},a.prototype.not=function(t){for(var e=[],i=this.filter(t).toArray(),r=0;r<this.length;r++)-1===i.indexOf(this[r])&&e.push(this[r]);return u(e)},a.prototype.is=function(t){return!!this.filter(t).length},a.prototype.children=function(t){for(var e=[],i=0;i<this.length;i++)for(var r=this[i]?this[i].childNodes:[],s=0;s<r.length;s++)n.isElementNode(r[s])&&e.push(r[s]);return e=u(e),t?e.filter(t):e},a.prototype.siblings=function(){var t=this[0];if(!t||!t.parentNode)return u();for(var e=[],i=t.parentNode.childNodes||[],r=0;r<i.length;r++){var s=i[r];n.isElementNode(s)&&s!==t&&e.push(s)}return u(e)},a.prototype.each=function(t){for(var e=0;e<this.length&&!1!==t.call(this[e],e,this[e]);e++);},a.prototype.index=function(t){return t?(t=u(t),this.toArray().indexOf(t[0])):this.parent().children().index(this)},a.prototype.get=function(t){return this[t<0?this.length+t:t]},a.prototype.eq=function(t){return t=t<0?this.length+t:t,u(this[t])},a.prototype.first=function(){return this.eq(0)},a.prototype.last=function(){return this.eq(-1)},a.prototype.parent=function(t){if(!this[0])return u();var e=u(this[0].parentNode);return!t||e.is(t)?e:u()},a.prototype.parents=function(t){for(var e=[],i=this.parent();i&&i[0]&&!n.isDocument(i[0]);)n.isElementNode(i[0])&&(!t||t&&i.is(t))&&e.push(i.get(0)),i=i.parent();return u(e)},a.prototype.closest=function(t){if(this.is(t))return this;for(var e=this.parent();e&&e.length;){if(e.is(t))return e;e=e.parent()}return u()},a.prototype.next=function(t){if(!this[0])return u();var e=u(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(t))return e;e=e.next()}return u()},a.prototype.prev=function(){return this[0]?u(this[0].previousSibling):u()},a.prototype.add=function(t){for(var e=u(t),i=this.toArray(),r=0;r<e.length;r++){var n=e[r];-1===i.indexOf(n)&&i.push(n)}return u(i)};var m=[];a.prototype.splice=function(){return u(m.splice.apply(this,arguments))},a.prototype.slice=function(){return u(m.slice.apply(this,arguments))},a.prototype.toArray=function(){return m.slice.call(this)};var b=function(t){return h.isWindow(t)?t:t.defaultView};a.prototype.offset=function(){if(this[0]){if(!this[0].getClientRects().length)return{top:0,left:0};var t=this[0].getBoundingClientRect(),e=b(this[0].ownerDocument),i=this[0].ownerDocument.documentElement;return{top:t.top+e.pageYOffset-i.clientTop,left:t.left+e.pageXOffset-i.clientLeft}}},a.prototype.offsetParent=function(){if(!this[0])return u();for(var t=u(this[0].offsetParent);t[0]&&"static"===t.css("position");)t=u(t[0].offsetParent);return t=t[0]?t:u(n.getDocumentElement())},a.prototype.position=function(){if(this[0]){var t,e=parseFloat(this.css("marginTop")),i=parseFloat(this.css("marginLeft"));if("fixed"===this.css("position"))return{top:(t=this[0].getBoundingClientRect()).top-e,left:t.left-i};t=this.offset();var r=this.offsetParent(),n={top:0,left:0};return"HTML"!==r[0].nodeName&&(n=r.offset()),n={top:n.top+parseFloat(r.css("borderTopWidth")),left:n.left+parseFloat(r.css("borderLeftWidth"))},{top:t.top-n.top-e,left:t.left-n.left-i}}},[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(t,e){t.scrollTo(e,t.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(t,e){t.scrollTo(t.pageXOffset,e)}}].forEach((function(t){var e=t.name;a.prototype[e]=function(i){if(this[0]){var r=b(this[0]);return void 0===i?r?r[t.offsetProp]:this[0][e]:(r?t.scrollWindow(r,i):this[0][e]=i,this)}}})),a.prototype.data=function(t,e){if(this[0])return arguments.length<2?r.data.call(u,this[0],t):(r.data.call(u,this[0],t,e),this)},a.prototype.removeData=function(t){return this[0]&&r.removeData(this[0],t),this};var N=function(){return u.apply(this,arguments)};Object.defineProperty(N,"fn",{enumerable:!0,configurable:!0,get:function(){return u.fn},set:function(t){u.fn=t}}),i.exports={set:function(t){u=t},get:function(){return N}}}

