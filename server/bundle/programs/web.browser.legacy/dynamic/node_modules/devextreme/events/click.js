function module(e,t){"use strict";var n=e("../core/renderer"),i=e("../events/core/events_engine"),a=e("../core/devices"),c=e("../core/dom_adapter"),r=e("../core/utils/dom"),l=e("../animation/frame"),s=e("./utils"),o=e("./pointer"),u=e("./core/emitter"),m=e("./core/emitter_registrator"),v=e("../core/utils/version").compare,f="dxclick",d=10,h=Math.abs,_=function(e){return n(e).is("input, textarea, select, button ,:focus, :focus *")},E={requestAnimationFrame:l.requestAnimationFrame,cancelAnimationFrame:l.cancelAnimationFrame},g=u.inherit({ctor:function(e){this.callBase(e),this._makeElementClickable(n(e))},_makeElementClickable:function(e){e.attr("onclick")||e.attr("onclick","void(0)")},start:function(e){this._blurPrevented=e.isDefaultPrevented(),this._startTarget=e.target,this._startEventData=s.eventData(e)},end:function(e){this._eventOutOfElement(e,this.getElement().get(0))||e.type===o.cancel?this._cancel(e):(_(e.target)||this._blurPrevented||r.resetActiveElement(),this._accept(e),this._clickAnimationFrame=E.requestAnimationFrame(function(){this._fireClickEvent(e)}.bind(this)))},_eventOutOfElement:function(e,t){var n=e.target,i=!r.contains(t,n)&&t!==n,a=s.eventDelta(s.eventData(e),this._startEventData),c=h(a.x)>10||h(a.y)>10;return i||c},_fireClickEvent:function(e){this._fireEvent("dxclick",e,{target:r.closestCommonParent(this._startTarget,e.target)})},dispose:function(){E.cancelAnimationFrame(this._clickAnimationFrame)}}),k,b,C,A,F,I,D;k="dx-native-click",b=a.real(),C=b.generic||b.ios&&v(b.version,[9,3])>=0||b.android&&v(b.version,[5])>=0,A=function(e){return C||n(e).closest(".dx-native-click").length},F=null,I=null,D=function(e){var t=e.originalEvent,n=I===t||t&&t.DXCLICK_FIRED,i;(!e.which||1===e.which)&&!F&&A(e.target)&&!n&&(t&&(t.DXCLICK_FIRED=!0),I=t,s.fireEvent({type:"dxclick",originalEvent:e}))},g=g.inherit({_makeElementClickable:function(e){A(e)||this.callBase(e),i.on(e,"click",D)},configure:function(e){this.callBase(e),e.useNative&&this.getElement().addClass("dx-native-click")},start:function(e){F=null,A(e.target)||this.callBase(e)},end:function(e){A(e.target)||this.callBase(e)},cancel:function(){F=!0},dispose:function(){this.callBase(),i.off(this.getElement(),"click",D)}}),function(){var e;if(!a.real().generic){var t=null,l=!1,u=function(e){t=e.target,l=e.isDefaultPrevented()},m=function(e){var i=n(e.target);l||!t||i.is(t)||n(t).is("label")||!_(i)||r.resetActiveElement(),t=null,l=!1},v="NATIVE_CLICK_FIXER",f=c.getDocument();i.subscribeGlobal(f,s.addNamespace(o.down,"NATIVE_CLICK_FIXER"),u),i.subscribeGlobal(f,s.addNamespace("click","NATIVE_CLICK_FIXER"),m)}}(),m({emitter:g,bubble:!0,events:["dxclick"]}),t.name="dxclick"}

