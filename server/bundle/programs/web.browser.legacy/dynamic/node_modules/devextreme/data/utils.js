function module(r,e,t){"use strict";var n=r("../core/utils/type"),o=p(n),i,u=p(r("../core/dom_adapter")),a=r("../core/utils/ready_callbacks"),s=r("../core/utils/window"),c=r("../core/utils/iterator"),f=r("../core/utils/data"),l=r("../core/utils/deferred");function p(r){return r&&r.__esModule?r:{default:r}}function d(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}var v="DEVEXTREME_XHR_ERROR_UNLOAD",m=function(r){return[r[0],r.length<3?"=":String(r[1]).toLowerCase(),r.length<2||r[r.length-1]]},y=function(r){return Array.isArray(r)||(r=[r]),(0,c.map)(r,(function(r){var e={selector:(0,n.isFunction)(r)||"string"==typeof r?r:r.getter||r.field||r.selector,desc:!(!r.desc&&"d"!==String(r.dir).charAt(0).toLowerCase())};return r.compare&&(e.compare=r.compare),e}))},A=(h={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},g=function(r){var e=h[r];return e||r},(0,a.add)((function(){var r=(0,s.getWindow)();u.default.listen(r,"beforeunload",(function(){w=!0}))})),function(r,e){return w?v:r.status<400?g(e):r.statusText}),h,g,w,C,R=(_=0,{obtain:function(){0===_&&(N=new l.Deferred),_++},release:function(){--_<1&&N.resolve()},promise:function(){var r;return(0===_?(new l.Deferred).resolve():N).promise()},reset:function(){_=0,N&&N.resolve()}}),N,_,b,D,E,O;function j(r){return/^(or|\|\||\|)$/i.test(r)}function k(r){return/^(and|&&|&)$/i.test(r)}var F,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",U=function(r){Array.isArray(r)||(r=x(String(r)));var e="";function t(r){return L.charAt(r)}for(var n=0;n<r.length;n+=3){var o=r[n],i=r[n+1],u=r[n+2];e+=(0,c.map)([o>>2,(3&o)<<4|i>>4,isNaN(i)?64:(15&i)<<2|u>>6,isNaN(u)?64:63&u],t).join("")}return e},x=function(r){var e,t,n=[];for(t=0;t<r.length;t++)(e=r.charCodeAt(t))<128?n.push(e):e<2048?n.push(192+(e>>6),128+(63&e)):e<65536?n.push(224+(e>>12),128+(e>>6&63),128+(63&e)):e<2097152&&n.push(240+(e>>18),128+(e>>12&63),128+(e>>6&63),128+(63&e));return n},S,X=function(r){return"and"===r||"or"===r},z,M,T;function q(r,e){var t,o;return function(){var i=this;return o=arguments,t||(t=setTimeout((function(){t=void 0,o&&r.call(i,o)}),(0,n.isFunction)(e)?e():e)),t}}function H(r,e){var t=[],n=q((function(){r.call(this,t),t=[]}),e);return function(r){var e;Array.isArray(r)&&(e=t).push.apply(e,d(r));return n.call(this,t)}}var P={XHR_ERROR_UNLOAD:v,normalizeBinaryCriterion:m,normalizeSortingInfo:y,errorMessageFromXhr:A,aggregators:{count:{seed:0,step:function(r){return 1+r}},sum:{seed:0,step:function(r,e){return r+e}},min:{step:function(r,e){return e<r?e:r}},max:{step:function(r,e){return e>r?e:r}},avg:{seed:[0,0],step:function(r,e){return[r[0]+e,r[1]+1]},finalize:function(r){return r[1]?r[0]/r[1]:NaN}}},keysEqual:function(r,e,t){if(Array.isArray(r)){for(var n,o=(0,c.map)(e,(function(r,e){return e})),i=0;i<o.length;i++)if(n=o[i],(0,f.toComparable)(e[n],!0)!=(0,f.toComparable)(t[n],!0))return!1;return!0}return(0,f.toComparable)(e,!0)==(0,f.toComparable)(t,!0)},throttleChanges:H,trivialPromise:function(){var r=new l.Deferred;return r.resolve.apply(r,arguments).promise()},rejectedPromise:function(){var r=new l.Deferred;return r.reject.apply(r,arguments).promise()},isDisjunctiveOperator:j,isConjunctiveOperator:k,processRequestResultLock:R,isUnaryOperation:function(r){return"!"===r[0]&&Array.isArray(r[1])},isGroupCriterion:function(r){var e=r[0],t=r[1];return!!Array.isArray(e)||!(!o.default.isFunction(e)||!(Array.isArray(t)||o.default.isFunction(t)||X(t)))},base64_encode:U};t.exports=P}

