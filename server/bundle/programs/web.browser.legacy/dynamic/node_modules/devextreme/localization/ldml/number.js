function module(t,n){"use strict";var r=t("../../core/utils/math").fitIntoRange,e=t("../utils").toFixed,i={thousandsSeparator:",",decimalSeparator:"."},u="'",l=15;function o(t){return t.split(",").slice(1).map((function(t){return t.split("").filter((function(t){return"#"===t||"0"===t})).length}))}function a(t){var n=t.split(";");return 1===n.length&&n.push("-"+n[0]),n}function c(t){return t.toString().split("").reverse().join("")}function f(t){return-1!==t.indexOf("%")&&!t.match(/'[^']*%[^']*'/g)}function s(t){return t?t.length-t.replace(/[#]/g,"").length:0}function g(t){return t?t.length-t.replace(/[0]/g,"").length:0}function h(t,n,r){if(!t)return"";for(t.length>r&&(t=t.substr(0,r));t.length>n&&"0"===t.slice(-1);)t=t.substr(0,t.length-1);for(;t.length<n;)t+="0";return t}function p(t,n,r){if(!n.length)return t;for(var e=[],i=0;t;){var u=n[i];e.push(t.slice(0,u)),t=t.slice(u),i<n.length-1&&i++}return e.join(r)}function v(t,n){return t.split(u).map((function(t,r){var e=r%2;return!t&&e?u:e?t:t.replace(/[,#0]+/,n)})).join("")}function d(t){for(var n=!1,r=0;r<t.length;r++)if("'"===t[r]&&(n=!n),"."===t[r]&&!n)return r;return t.length}function m(t,n){return n=n||i,function(i){if("number"!=typeof i||isNaN(i))return"";var u,m,S=i>0||1/i==1/0,b=a(t)[S?0:1];f(b)&&(i*=100),S||(i=-i);var x=d(b),F=[b.substr(0,x),b.substr(x+1)],O=g(F[1]),j=O+s(F[1]),w=g(F[0]),N=s(F[0])?void 0:w,$=Math.floor(i).toString().length,y=r(j,0,l-$),D=o(F[0]).reverse(),I=e(i,y<0?0:y).split("."),M=h(c(I[0]),w,N),R=h(I[1],O,j);M=p(M,D,n.thousandsSeparator);var k=c(v(c(F[0]),M)),q=j?v(F[1],R):"",z;return k+(q.match(/\d/)?n.decimalSeparator:"")+q}}function S(t,n,r){var e=(n?.01:1)*parseFloat(t)||0;return r?-e:e}function b(t,n,r,e){var i,u,l,o=t;do{l&&(i=u.length===l.length?"0":"1",t=e?i+t:t+i),u=l||n(S(o,r)),l=n(S(o=e?"1"+o:o+"1",r))}while(u!==l&&(e?u.length===l.length:u.length<=l.length));if(e&&l.length>u.length){var a=-1===n(12345).indexOf("12345");do{t="1"+t}while(a&&S(t,r)<1e5)}return t}function x(t,n,r,e){var i=n(S(t,r,e)),u=t.split("."),l,o,a=n(S(u[0]+".3"+u[1].slice(1),r,e)).indexOf("3")-1;return i=i.replace(/(\d)\D(\d)/g,"$1,$2"),a>=0&&(i=i.slice(0,a)+"."+i.slice(a+1)),i=i.replace(/1+/,"1").replace(/1/g,"#"),r||(i=i.replace("%","'%'")),i}function F(t){var n=".",r=t(1).indexOf("100")>=0;n=b(n,t,r,!0);var e=x(n=b(n,t,r,!1),t,r,!1),i=x(n,t,r,!0);return i==="-"+e?e:e+";"+i}n.getFormatter=m,n.getFormat=F}

