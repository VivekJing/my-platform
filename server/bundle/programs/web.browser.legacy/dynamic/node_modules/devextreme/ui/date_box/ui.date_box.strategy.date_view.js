function module(t,e,i){"use strict";var o=t("../../core/renderer"),n=t("../../core/utils/window").getWindow(),s=t("./ui.date_view"),a=t("./ui.date_box.strategy"),r=t("../../core/utils/support"),d=t("../../core/utils/extend").extend,p=t("../themes"),u=t("./ui.date_utils"),h=t("../../localization/message"),l=a.inherit({NAME:"DateView",getDefaultOptions:function(){return d(this.callBase(),{openOnFieldClick:!0,applyButtonText:h.format("Done")})},getDisplayFormat:function(t){return t||u.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){var e=p.current();return{showTitle:!0,toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:function(t){return"win"===t.platform&&t.version&&8===t.version[0]},options:{showNames:!0}},{device:function(t){return"win"===t.platform&&t.phone&&t.version&&8===t.version[0]},options:{animation:null}},{device:function(){return p.isWin8(e)},options:{fullScreen:!0}},{device:{platform:"android"},options:{width:333,height:331}},{device:function(t){var e=t.platform,i=t.version;return"generic"===e||"ios"===e||"win"===e&&i&&10===i[0]},options:{width:"auto",height:"auto"}},{device:function(t){var e=t.platform,i=t.phone;return"generic"===e&&i},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:function(t){return t.phone&&p.isWin10(e)},options:{width:333,height:"auto"}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:n}}}]}},_renderWidget:function(){if(r.inputType(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var e=o("<div>").appendTo(t.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return s},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*u.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}});i.exports=l}

