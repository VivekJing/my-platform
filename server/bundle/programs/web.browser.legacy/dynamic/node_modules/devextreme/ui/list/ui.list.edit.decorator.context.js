function module(t){"use strict";var e=t("../../core/renderer"),i=t("./ui.list.edit.decorator_menu_helper"),n=t("../../localization/message"),s=t("./ui.list.edit.decorator_registry").register,o=t("./ui.list.edit.decorator"),r=t("../overlay"),h=t("./ui.list.base"),u="dx-list-context-menu",d="dx-list-context-menucontent";s("menu","context",o.inherit({_init:function(){var t=e("<div>").addClass(u);this._list.$element().append(t),this._menu=this._renderOverlay(t)},_renderOverlay:function(t){return this._list._createComponent(t,r,{shading:!1,deferRendering:!0,closeOnTargetScroll:!0,closeOnOutsideClick:function(t){return!e(t.target).closest("."+u).length},animation:{show:{type:"slide",duration:300,from:{height:0,opacity:1},to:{height:function(){return this._$menuList.outerHeight()}.bind(this),opacity:1}},hide:{type:"slide",duration:0,from:{opacity:1},to:{opacity:0}}},height:function(){return this._$menuList?this._$menuList.outerHeight():0}.bind(this),width:function(){return this._list.$element().outerWidth()}.bind(this),onContentReady:this._renderMenuContent.bind(this)})},_renderMenuContent:function(t){var i=t.component.$content(),s=this._menuItems().slice();this._deleteEnabled()&&s.push({text:n.format("dxListEditDecorator-delete"),action:this._deleteItem.bind(this)}),this._$menuList=e("<div>"),this._list._createComponent(this._$menuList,h,{items:s,onItemClick:this._menuItemClickHandler.bind(this),height:"auto",integrationOptions:{}}),i.addClass("dx-list-context-menucontent"),i.append(this._$menuList)},_menuItemClickHandler:function(t){this._menu.hide(),this._fireMenuAction(this._$itemWithMenu,t.itemData.action)},_deleteItem:function(){this._list.deleteItem(this._$itemWithMenu)},handleContextMenu:function(t){return this._$itemWithMenu=t,this._menu.option({position:{my:"top",at:"bottom",of:t,collision:"flip"}}),this._menu.show(),!0},dispose:function(){this._menu&&this._menu.$element().remove(),this.callBase.apply(this,arguments)}}).include(i))}

