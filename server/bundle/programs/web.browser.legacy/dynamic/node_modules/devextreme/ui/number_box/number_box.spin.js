function module(e,n,t){"use strict";var i=e("../../core/renderer"),a=e("../../core/dom_adapter"),s=e("../../events/core/events_engine"),r=e("../widget/ui.widget"),d=e("../../core/utils/extend").extend,o=e("../../events/utils"),c=e("../../events/pointer"),l=e("../../events/core/emitter.feedback"),h=e("../../events/hold"),f=e("../../core/utils/deferred").Deferred,u="dx-numberbox-spin",_="dx-numberbox-spin-button",m=100,p="dxNumberBox",v=o.addNamespace(c.up,p),b=o.addNamespace(c.cancel,p),g=r.inherit({_getDefaultOptions:function(){return d(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var e=u+"-"+this.option("direction");this.$element().addClass(_).addClass(e),this._spinIcon=i("<div>").addClass(e+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var e=o.addNamespace(c.down,this.NAME),n=this.$element();s.off(n,e),s.on(n,e,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(e){e.preventDefault(),this._clearTimer(),s.on(this.$element(),h.name,function(){this._feedBackDeferred=new f,l.lock(this._feedBackDeferred),this._spinChangeHandler({event:e}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:e})}.bind(this));var n=a.getDocument();s.on(n,v,this._clearTimer.bind(this)),s.on(n,b,this._clearTimer.bind(this)),this._spinChangeHandler({event:e})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){s.off(this.$element(),h.name);var e=a.getDocument();s.off(e,v),s.off(e,b),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(e)}}});t.exports=g}

